(()=>{"use strict";const e=window.React,a=window.wp.i18n,t=window.lodash,l=window.wp.element,s=window.wp.components,n=({handleOnChange:n,objKey:c,values:m,fields:o})=>{const[r,i]=(0,l.useState)(!1),u=(0,l.useRef)(!1),_=e=>`${c}.${e}`,E=(e,a="")=>(0,t.get)(m,`${c}.${e}`,a),v=!o||!o?.length;return(0,e.createElement)("div",null,(0,e.createElement)(s.Button,{ref:u,variant:"secondary",onClick:()=>i(!r)},(0,a.__)("Settings","sa-swatches")),r&&(0,e.createElement)(s.Popover,{placement:"right-start",className:"sasw_setting_popover",offset:15,noArrow:!1,anchor:u?.current,onClose:()=>{i(!1)}},v||o.includes("layout")?(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Item Layout","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:E("layout"),defaultValue:"inline",onChange:e=>{n(_("layout"),e.target.value)}},Object.keys(SASW_SWATCHES.configs.option_layout).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.option_layout[a])))))):null,v||o.includes("label")?(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Label","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:E("label"),defaultValue:"",onChange:e=>{const a=e.target.value;n(_("label"),a)}},Object.keys(SASW_SWATCHES.configs.show_hide).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.show_hide[a])))))):null,v||o.includes("col")?(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Items per row","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("input",{value:E("col"),type:"search",placeholder:(0,a.__)("Auto","sa-swatches"),step:1,onChange:e=>{n(_("col"),e.target.value)},size:3}))):null,v||o.includes("size")?(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Size","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("input",{value:E("size"),type:"number",placeholder:(0,a.__)("Auto","sa-swatches"),onChange:e=>{n(_("size"),e.target.value)},size:3}))):null,v||o.includes("style")?(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Style","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:E("style"),defaultValue:"",onChange:e=>{const a=e.target.value;n(_("style"),a)}},Object.keys(SASW_SWATCHES.configs.swatch_style).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.swatch_style[a])))))):null))},c=({onChange:l,values:c})=>{const m=(e,a="")=>(0,t.get)(c,`${e}`,a),o=(e,a)=>{l((l=>{let s={...l};return(0,t.set)(s,e,a),s}))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"sa-settings-form"},(0,e.createElement)("h2",null,(0,a.__)("Variations in product page","sa-swatches")),(0,e.createElement)("div",{className:"group-items"},(0,e.createElement)("div",{className:"sasw_heading"},(0,e.createElement)("h3",null,(0,a.__)("Layout Settings","sa-swatches"))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Form Layout","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:m("single.layout"),defaultValue:"",onChange:e=>{const a=e.target.value;o("single.layout",a)}},Object.keys(SASW_SWATCHES.configs.main_layout).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.main_layout[a])))))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Popover size","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(s.__experimentalUnitControl,{placeholder:"Auto",value:m("single.pooverSize"),onChange:e=>{o("single.pooverSize",e)}}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Attribute description","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:m("single.viewAttrDetail"),defaultValue:"",onChange:e=>{const a=e.target.value;o("single.viewAttrDetail",a)}},Object.keys(SASW_SWATCHES.configs.show_hide).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.show_hide[a]))))))),(0,e.createElement)("div",{className:"group-items"},(0,e.createElement)("div",{className:"sasw_heading"},(0,e.createElement)("h3",null,(0,a.__)("Options Settings","sa-swatches"))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch image","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"single.option.image",values:c,handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch color","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"single.option.color",values:c,handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch default","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"single.option.default",values:c,handleOnChange:o})))),["drawer"].includes(m("single.layout"))?(0,e.createElement)("div",{className:"group-items"},(0,e.createElement)("div",{className:"sasw_heading has_desc"},(0,e.createElement)("h3",null,(0,a.__)("Selected Option Settings","sa-swatches")),(0,e.createElement)("p",{className:"sasw_desc"},(0,a.__)("Apply for drawer layout only.","sa-swatches"))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch image","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"drawer.option.image",values:c,fields:["layout","size","style"],handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch color","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"drawer.option.color",values:c,fields:["layout","size","style"],handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch default","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"drawer.option.default",values:c,fields:["layout","size","style"],handleOnChange:o})))):null),(0,e.createElement)("div",{className:"sa-settings-form"},(0,e.createElement)("h2",null,(0,a.__)("Variations in shop & archive pages","sa-swatches")),(0,e.createElement)("div",{className:"group-items"},(0,e.createElement)("div",{className:"sasw_heading"},(0,e.createElement)("h3",null,(0,a.__)("Layout Settings","sa-swatches"))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Enable","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:c?.shop?.show||"",defaultValue:"yes",onChange:e=>{const a=e.target.value;o("shop.show",a)}},Object.keys(SASW_SWATCHES.configs.yes_no).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.yes_no[a]))))))),(0,e.createElement)("div",{className:"group-items"},(0,e.createElement)("div",{className:"sasw_heading"},(0,e.createElement)("h3",null,(0,a.__)("Options Settings","sa-swatches"))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Position","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:c?.shop?.position||"",defaultValue:"",onChange:e=>{const a=e.target.value;o("shop.position",a)}},Object.keys(SASW_SWATCHES.configs.position).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.position[a])))))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatches align","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:c?.shop_align||"",defaultValue:"",onChange:e=>{const a=e.target.value;o("shop.align",a)}},Object.keys(SASW_SWATCHES.configs.align).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.align[a])))))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Allow attributes selection","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)("select",{value:c?.shop?.selection||"",defaultValue:"",onChange:e=>{const a=e.target.value;o("shop.selection",a)}},Object.keys(SASW_SWATCHES.configs.yes_no).map((a=>(0,e.createElement)("option",{value:a,key:a},SASW_SWATCHES.configs.yes_no[a])))))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch image","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"shop.option.image",values:c,handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch color","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"shop.option.color",values:c,handleOnChange:o}))),(0,e.createElement)("div",{class:"form-item"},(0,e.createElement)("label",{className:"form_label"},(0,a.__)("Swatch default","sa-swatches")),(0,e.createElement)("div",{className:"form_value"},(0,e.createElement)(n,{objKey:"shop.option.default",values:c,handleOnChange:o}))))))},m=({input:a,initValues:t})=>{const[s,n]=(0,l.useState)(t);return(0,l.useEffect)((()=>{a.val(JSON.stringify(s))}),[s]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c,{onChange:n,values:s}))};jQuery("#sasw_setting_wrap").each((function(){const a=jQuery(this),t=jQuery("#sasw_swatches_settings"),s=a.closest("form");s.append(t),jQuery(".wc-settings-row-sasw_swatches_settings, h2",s).remove();let n={};try{n=JSON.parse(t.val())}catch(e){n={}}console.log(".initValues",n),(0,l.render)((0,e.createElement)(m,{input:t,initValues:n}),a.get(0))}))})();